<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Encount</title>
	<link rel="stylesheet" href="css/styles.css"/>
	<link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
    <!--[if lt IE 9]>-
        <script src="http://cdnjs.clou-dflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
</head>
<body>
    <script type="text/x-handlebars" data-template-name="index">
        <h3>Choose a user!</h3>
        <ol>
        {{#each}}
            {{#link-to "user" this}}{{user_name}}{{/link-to}}
        {{/each}}
        </ol>
    </script>

    <script type="text/x-handlebars" data-template-name="user">
        <section id="user_page">
            {{#link-to "index"}}Home{{/link-to}}
            <h6>{{user_name}}</h6>

            <ol>
                {{#each encounters}}
                <li>
                    {{#link-to "encounter" this}}
                        {{encounter_name}}
                    {{/link-to}}
                </li>
                {{/each}}

                <li>
                    {{#view App.showHide isVisible=showNewEncounterButton}}
                        <button {{action "toggle_new_encounter"}}>+</button>
                    {{/view}}

                    {{#view App.showHide isVisible=showNewEncounter class="newEncounter"}}
                        <form {{action "new_encounter" this this.newEncounterName on="submit"}}>
                            {{input value=newEncounterName}}
                        </form>
                        <button {{action "toggle_new_encounter"}}>-</button>
                    {{/view}}
                </li>
            </ol>

            <ol>
                {{#each creatures}}
                <li>
                    {{#link-to "creature" this}}
                        {{#view App.drag content=this}}{{creature_name}}{{/view}}
                    {{/link-to}}
                </li>
                {{/each}}

                <li>
                    {{#view App.showHide isVisible=showNewCreatureButton}}
                        <button {{action "toggle_new_creature"}}>+</button>
                    {{/view}}

                    {{#view App.showHide isVisible=showNewCreature class="newCreature"}}
                        <form {{action "new_creature" this this.newCreatureName on="submit"}}>
                            {{input value=newCreatureName}}
                        </form>
                        <button {{action "toggle_new_creature"}}>-</button>
                    {{/view}}
                </li>
            </ol>

            <ol>
                {{#each players}}
                <li>
                    {{#link-to "player" this}}
                        {{#view App.drag content=this}}{{player_name}}{{/view}}
                    {{/link-to}}
                </li>
                {{/each}}

                <li>
                    {{#view App.showHide isVisible=showNewPlayerButton}}
                        <button {{action "toggle_new_player"}}>+</button>
                    {{/view}}

                    {{#view App.showHide isVisible=showNewPlayer class="newPlayer"}}
                        <form {{action "new_player" this this.newPlayerName on="submit"}}>
                            {{input value=newPlayerName}}
                        </form>
                        <button {{action "toggle_new_player"}}>-</button>
                    {{/view}}
                </li>
            </ol>

            {{outlet}}
        </section>
    </script>

    <script type="text/x-handlebars" data-template-name="encounter">
        {{#view App.drop}}Drop here!{{/view}}
        {{#each players}}
            {{player_name}}
        {{/each}}
        {{#each creatures}}
            {{creature_name}}
        {{/each}}
    </script>
</body>
	
</html>

<!-- jQuery -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>

<!-- Handlebars -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js"></script>

<!-- Ember -->
<script src="http://builds.emberjs.com/release/ember.js"></script>
<script src="http://builds.emberjs.com/beta/ember-data.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/ember-localstorage-adapter/0.3.1/localstorage_adapter.min.js"></script>

<!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/1.0.17/firebase.js"></script>
<script src="js/emberfire.js"></script>

<!-- Libraries -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js"></script>

<!-- Project -->
<script src="ember/app.js"></script>
<script src="ember/router.js"></script>
<script src="ember/controller.js"></script>
<script src="ember/app_data.js"></script>
